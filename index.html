function generateStory(type) {
  const promptInput = document.getElementById('promptInput').value.trim();
  if (promptInput.length === 0) {
      alert('Please write a prompt.');
      return;
  }

  const storyType = type === 'dark' ? 'Write a dark story: ' : 'Write a dreamy story: ';
  const data = {
      prompt: storyType + promptInput,
      max_tokens: 200
  };

  axios.post('/.netlify/functions/generateStory', data)
      .then(response => {
          document.getElementById('storyOutput').value = response.data;
      })
      .catch(error => {
          console.error('Error:', error);
          alert('Failed to generate story. Please try again.');
      });
}
